<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="main_css.css">
    <title>tic tac toe game</title>
    <script>
        // Next time put all the scripts in a separate .js file
        // Where is this cells used?
        var cells = [0,1,2,3,4,5,6,7,8]
        // Instead of using a total moves, keep a list of moves already played. 
        let totalmoves = 9
        // Always use camelCase or snake_case. In JS, its common to use camelCase
        // This variable is used to denote whose turn it is. Make sure someone who reads your code can immediately understand what each of the variable does
        let turn = "first" // "second"
        let board = [0,'x',0,'O',0,0,0,0,0];
        let player1 = [0,0,0,0,0,0,0,0,0]
        let player2 = [0,0,0,0,0,0,0,0,0]
        let winmove = [[0,1,2],[0,3,6],[0,4,8],[1,4,7],[3,4,5],[6,7,8],[2,5,8],[2,4,6]]
        // Another variable that is not used
        let execution = []

        function wincheck(player1,player2,totalmoves){
            console.log("wincheck",player1)
            // console.log("wincheckb",player2)
            for (let j=0;j<winmove.length;j++){
                if(board[winmove[j][0]] == board[winmove[j][1]] && board[winmove[j][1]] == board[winmove[j][2]]) {
                    return board[winmove[j][0]]
                }
            }
            let turnsLeft = 0;
            for(let i = 0; i < board.length; i++) {
                if(board[i] == 0){
                    turnsLeft += 1
                }
            }
            if(turnsLeft == 0) {
                return "draw"
            }
            return;
        }





        function mark(element){ 
            // Make this simpler so that you dont have to do the same code multiple times
            let player = null;
            let icon = null;
            if(turn == 0){
                player = player1;
                icon = "X";
            } else {
                player = player2;
                icon = "O"
            }
            //mark the board
            // change the value of the element
            // disable the element.
            // change the turn
            // wincheck
            if (turn == 0){
                let newdiv = document.getElementById('playerName')
                newdiv.innerHTML="player 1"
                document.getElementById(element.id).innerHTML="O"
                var newval = document.getElementById(element.id)
                newval.setAttribute("disabled",true)
            }

            else{
                player2[element.id]=1
                let newdiv = document.getElementById("playerName")
                newdiv.innerHTML="player 2"
                document.getElementById(element.id).innerHTML="X"
                var newval = document.getElementById(element.id)
                newval.setAttribute("disabled",true)
            }
            totalmoves-=1 
            if(turn == 0){
                turn = 1
            } else {
                turn = 0
            }
            wincheck(player1,player2,totalmoves)
        }
        document.onload(function() {
            
        })
    </script>
</head>
<body>
    <div style="text-align: center; color: blueviolet;"><h1><u>Tik tak toe game</u> [X|O]</h1></div>
    <!-- <h2>First player is X and secondone is O</h2> -->
    <div id="playerName">player</div>


    <div class="grid-container">
        <button id='0' class="grid-item" onclick="mark(this)"></button>
        <button id='1' class="grid-item" onclick="mark(this)"></button>
        <button id='2' class="grid-item" onclick="mark(this)"></button>
        <button id='3' class="grid-item" onclick="mark(this)"></button>
        <button id='4' class="grid-item" onclick="mark(this)"></button>
        <button id='5' class="grid-item" onclick="mark(this)"></button>
        <button id='6' class="grid-item" onclick="mark(this)"></button>
        <button id='7' class="grid-item" onclick="mark(this)"></button>
        <button id='8' class="grid-item" onclick="mark(this)"></button>
    
    
    
</body>
</html>
